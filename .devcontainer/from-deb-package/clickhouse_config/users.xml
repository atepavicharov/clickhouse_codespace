<clickhouse>
    <users>
        <default remove="remove"></default>
    </users>
    <profiles>
        <default>
            <max_threads>2</max_threads>
            <queue_max_wait_ms>1000</queue_max_wait_ms>
            <max_execution_time>600</max_execution_time>
            <input_format_parallel_parsing>0</input_format_parallel_parsing>
            <output_format_parallel_formatting>0</output_format_parallel_formatting>
            <max_bytes_before_external_group_by>3221225472</max_bytes_before_external_group_by> <!-- 3 GB -->
            <max_bytes_before_external_sort>3221225472</max_bytes_before_external_sort> <!-- 3 GB -->
            <!-- additional -->
            <max_memory_usage>6,442,450,944</max_memory_usage> <!-- 6 GB. Recommended to set it about twice higher than max_bytes_before_external_group_by -->
            <join_use_nulls>1</join_use_nulls>
            <group_by_use_nulls>1</group_by_use_nulls>
            <join_algorithm>'auto'</join_algorithm>
            <!-- <max_bytes_in_join></max_bytes_in_join> -->
            <default_max_bytes_in_join>1073741824</default_max_bytes_in_join> <!-- 1 GB -->
        </default>
    </profiles>
</clickhouse>
